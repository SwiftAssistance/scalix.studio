<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- =================================================================
    PRIMARY SEO & METADATA
    ================================================================== -->
    <title>Scalix Studios | #1 Digital Agency in Berkshire, UK</title>
    <meta name="description" content="Scalix Studios: Berkshire's top-rated digital agency. We specialize in results-driven SEO, web design, and social media marketing to attract more clients to your business.">
    <meta name="keywords" content="digital agency berkshire, seo services berkshire, web design reading, social media marketing newbury, creative agency slough, scalix studios, local marketing, small business seo">
    <meta name="author" content="Scalix Studios">
    <link rel="canonical" href="https://www.scalixstudios.co.uk/index.html">
    <meta name="robots" content="index, follow">

    <!-- =================================================================
    SOCIAL MEDIA & OPEN GRAPH TAGS
    ================================================================== -->
    <meta property="og:title" content="Scalix Studios | Results-Driven Digital Agency in Berkshire">
    <meta property="og:description" content="Partner with Scalix Studios to elevate your brand. Expert SEO, web development, and creative branding services for businesses in Berkshire and the Thames Valley.">
    <!-- MODIFIED: Image path updated to be the logo for sharing -->
    <meta property="og:image" content="scalix_logo.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:url" content="https://www.scalixstudios.co.uk">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_GB">
    <meta property="og:site_name" content="Scalix Studios">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Scalix Studios | Results-Driven Digital Agency in Berkshire">
    <meta name="twitter:description" content="Expert SEO, web development, and creative branding services for businesses in Berkshire and the Thames Valley.">
    <!-- MODIFIED: Twitter image path updated to be the logo -->
    <meta name="twitter:image" content="scalix_logo.jpg">

    <!-- =================================================================
    FAVICONS & DEVICE COMPATIBILITY
    ================================================================== -->
    <!-- MODIFIED: Using the logo as the favicon -->
    <link rel="icon" href="scalix_logo.jpg" type="image/jpeg">
    <link rel="apple-touch-icon" href="scalix_logo.jpg">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="theme-color" content="#4c1d95">

    <!-- =================================================================
    ADVANCED SCHEMA MARKUP (JSON-LD)
    ================================================================== -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ProfessionalService",
      "name": "Scalix Studios",
      "image": "scalix_logo.jpg",
      "@id": "https://www.scalixstudios.co.uk",
      "url": "https://www.scalixstudios.co.uk",
      "telephone": "+447568171184",
      "priceRange": "££",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Barry Avenue",
        "addressLocality": "Windsor",
        "postalCode": "SL4 5JA",
        "addressRegion": "Berkshire",
        "addressCountry": "GB"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 51.4816,
        "longitude": -0.6125
      },
       "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "5",
        "ratingCount": "3"
      },
      "openingHoursSpecification": {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": [ "Monday", "Tuesday", "Wednesday", "Thursday", "Friday" ],
        "opens": "09:00",
        "closes": "17:30"
      },
      "sameAs": [
        "https://www.facebook.com/scalixstudios",
        "https://www.instagram.com/scalixstudios/"
      ]
    }
    </script>
    
    <!-- =================================================================
    STYLESHEETS & FONTS
    ================================================================== -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <style>
        :root { --primary-color: #6b46c1; --secondary-color: #4c1d95; --accent-color: #3b82f6; }
        body { font-family: 'Poppins', sans-serif; }
        h1, h2, h3, h4, h5, h6 { font-family: 'Montserrat', sans-serif; }
        body::-webkit-scrollbar { width: 10px; }
        body::-webkit-scrollbar-track { background: #f1f5f9; }
        body::-webkit-scrollbar-thumb { background-color: var(--primary-color); border-radius: 5px; border: 2px solid #f1f5f9; }
        .glass { background: rgba(255, 255, 255, 0.5); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.1); }
        #hero-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; background: linear-gradient(135deg, var(--secondary-color), #1a202c); }
        .loader { border-top-color: var(--accent-color); animation: spinner 1.5s linear infinite; }
        @keyframes spinner { 100% { transform: rotate(360deg); } }
        .chat-window { transform: scale(0.95) translateY(20px); opacity: 0; transition: transform 0.3s ease-out, opacity 0.3s ease-out; transform-origin: bottom right; pointer-events: none; }
        .chat-window.open { transform: scale(1) translateY(0); opacity: 1; pointer-events: auto; }
        .user-message { background-color: var(--accent-color); color: white; border-bottom-right-radius: 0.25rem; }
        .bot-message { background-color: #e2e8f0; color: black; border-bottom-left-radius: 0.25rem; }
        .typing-indicator span { animation: bounce 1s infinite; }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-4px); } }
        .testimonial-slider-container { overflow: hidden; }
        .testimonial-slider-track { display: flex; }
        .testimonial-slide { flex: 0 0 100%; box-sizing: border-box; }
        .timeline-item { position: relative; padding-left: 2.5rem; padding-bottom: 2rem; }
        .timeline-item:last-child { padding-bottom: 0; }
        .timeline-dot { position: absolute; left: 0; top: 0; width: 2rem; height: 2rem; border-radius: 50%; display: flex; align-items: center; justify-content: center; background-color: var(--secondary-color); color: white; }
        .timeline-line { position: absolute; left: 0.95rem; top: 2rem; bottom: 0; width: 2px; background-color: #cbd5e1; }
        .timeline-item:last-child .timeline-line { display: none; }
        #services .grid { perspective: 1000px; }
        .service-card { transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.4s cubic-bezier(0.25, 0.8, 0.25, 1); }
        .service-card:hover { transform: translateY(-15px) rotateX(8deg) scale(1.05); box-shadow: 0 30px 40px -15px rgba(0, 0, 0, 0.2); }
        .service-card .service-icon { transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), color 0.4s ease; }
        .service-card:hover .service-icon { transform: scale(1.2); color: var(--primary-color); }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div id="preloader" class="fixed inset-0 z-[100] flex items-center justify-center bg-gray-100 transition-opacity duration-500">
        <div class="loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-20 w-20"></div>
    </div>

    <div id="cookie-banner" class="fixed bottom-0 left-0 right-0 z-50 bg-gray-800 text-white p-5 text-center transform translate-y-full transition-transform duration-500 ease-in-out shadow-lg">
        <div class="container mx-auto flex flex-col md:flex-row items-center justify-between gap-4">
            <p class="text-sm">We use cookies to enhance your experience. <a href="privacy-policy.html" class="underline hover:text-blue-400">Learn More</a>.</p>
            <div class="flex gap-3">
                <button id="accept-cookies" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-5 rounded-full transition-colors text-sm">Accept</button>
                <button id="decline-cookies" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-5 rounded-full transition-colors text-sm">Decline</button>
            </div>
        </div>
    </div>

    <nav class="glass sticky top-0 z-50" aria-label="Main navigation">
        <div class="container mx-auto px-4 py-3 flex flex-wrap justify-between items-center">
            <a href="index.html" class="flex flex-col items-start transform transition-transform hover:scale-105">
                <span class="text-3xl font-extrabold text-indigo-700 leading-none">Scalix</span>
                <span class="text-xs font-semibold text-gray-500 tracking-widest uppercase">Studios</span>
            </a>
            <div class="space-x-6 flex items-center">
                <a href="index.html" class="text-lg font-medium text-blue-600 transition-colors" aria-current="page">Home</a>
                <a href="services.html" class="text-lg font-medium text-gray-700 hover:text-blue-600 transition-colors">Services</a>
                <a href="portfolio.html" class="text-lg font-medium text-gray-700 hover:text-blue-600 transition-colors">Work</a>
                <a href="contact.html" class="text-lg font-medium text-gray-700 hover:text-blue-600 transition-colors">Contact</a>
            </div>
        </div>
    </nav>

    <header id="hero" class="min-h-[80vh] flex items-center justify-center text-center p-4 relative overflow-hidden">
        <canvas id="hero-canvas"></canvas>
        <div class="container mx-auto max-w-4xl z-10 px-4">
            <h1 id="main-headline" class="text-4xl md:text-7xl font-extrabold mb-6 text-white leading-tight">Digital Experiences That Inspire</h1>
            <p id="sub-headline" class="text-lg md:text-xl mb-8 text-blue-100/90 leading-relaxed max-w-2xl mx-auto">We are Scalix Studios. A creative agency crafting innovative brands, websites, and marketing strategies to help you stand out and succeed.</p>
            <a href="#contact" class="inline-block bg-white text-blue-600 px-8 py-4 rounded-full font-bold text-lg shadow-lg hover:bg-gray-200 transform hover:scale-105 transition-all">Start Your Project</a>
        </div>
    </header>

    <main>
        <section id="services" class="py-20">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl md:text-5xl font-bold text-center mb-16" data-aos="fade-up">What We Do</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                    <div class="service-card bg-white p-8 rounded-xl text-center shadow-lg cursor-pointer" data-aos="fade-up" data-aos-delay="100" onclick="openModal('seo-modal')">
                        <i class="service-icon fa-solid fa-magnifying-glass-chart text-5xl text-blue-600 mb-4"></i>
                        <h3 class="text-2xl font-semibold mb-2">Search Engine Optimization</h3>
                        <p class="text-gray-600">Climb the rankings and attract organic traffic with data-driven SEO strategies.</p>
                    </div>
                    <div class="service-card bg-white p-8 rounded-xl text-center shadow-lg cursor-pointer" data-aos="fade-up" data-aos-delay="200" onclick="openModal('social-media-modal')">
                        <i class="service-icon fa-solid fa-share-nodes text-5xl text-blue-600 mb-4"></i>
                        <h3 class="text-2xl font-semibold mb-2">Social Media Marketing</h3>
                        <p class="text-gray-600">Build communities and engage your audience through compelling social campaigns.</p>
                    </div>
                    <div class="service-card bg-white p-8 rounded-xl text-center shadow-lg cursor-pointer" data-aos="fade-up" data-aos-delay="300" onclick="openModal('branding-modal')">
                        <i class="service-icon fa-solid fa-lightbulb text-5xl text-blue-600 mb-4"></i>
                        <h3 class="text-2xl font-semibold mb-2">Creative Branding</h3>
                        <p class="text-gray-600">Forge a memorable brand identity that tells your story and captivates your audience.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="process" class="py-20 bg-white">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl md:text-5xl font-bold text-center mb-16" data-aos="fade-up">Our Blueprint for Success</h2>
                <div class="max-w-2xl mx-auto">
                    <div class="timeline-item" data-aos="fade-up"><div class="timeline-dot"><i class="fa-solid fa-search"></i></div><div class="timeline-line"></div><h3 class="text-2xl font-semibold mb-2">01. Discovery & Strategy</h3><p class="text-gray-600">We start by understanding your vision, goals, and audience to build a tailored roadmap for success.</p></div>
                    <div class="timeline-item" data-aos="fade-up"><div class="timeline-dot"><i class="fa-solid fa-drafting-compass"></i></div><div class="timeline-line"></div><h3 class="text-2xl font-semibold mb-2">02. Design & Prototyping</h3><p class="text-gray-600">Our creative team designs intuitive, visually stunning interfaces that bring your brand's story to life.</p></div>
                    <div class="timeline-item" data-aos="fade-up"><div class="timeline-dot"><i class="fa-solid fa-code"></i></div><div class="timeline-line"></div><h3 class="text-2xl font-semibold mb-2">03. Development & Launch</h3><p class="text-gray-600">We build your project with clean, efficient code and deploy it seamlessly for the world to see.</p></div>
                    <div class="timeline-item" data-aos="fade-up"><div class="timeline-dot"><i class="fa-solid fa-rocket"></i></div><h3 class="text-2xl font-semibold mb-2">04. Growth & Optimization</h3><p class="text-gray-600">Post-launch, we analyze performance and continue to optimize for growth and engagement.</p></div>
                </div>
            </div>
        </section>
        
        <section id="testimonials" class="py-20 bg-gray-50">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl md:text-5xl font-bold text-center mb-16" data-aos="fade-up">What Our Clients Say</h2>
                <div class="max-w-3xl mx-auto relative" data-aos="fade-up" data-aos-delay="100">
                    <div class="testimonial-slider-container rounded-xl shadow-lg">
                        <div class="testimonial-slider-track">
                            <div class="testimonial-slide p-8 md:p-12 bg-white">
                                <div class="text-yellow-400 mb-4 text-2xl" aria-label="5 out of 5 stars"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></div>
                                <p class="text-lg text-gray-700 mb-6 italic">"Scalix Studios transformed our outdated website into a modern, lead-generating machine. Their design sense is impeccable, and the process was seamless from start to finish."</p>
                                <footer class="font-bold text-right"><span class="block text-gray-800">Emil J</span><span class="text-sm text-gray-500">EJM Pave & Turf</span><span class="block text-xs text-blue-600 font-semibold mt-1">Service: Rebranding</span></footer>
                            </div>
                            <div class="testimonial-slide p-8 md:p-12 bg-white">
                                 <div class="text-yellow-400 mb-4 text-2xl" aria-label="5 out of 5 stars"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></div>
                                <p class="text-lg text-gray-700 mb-6 italic">"Working with Scalix was a game-changer. They understood our vision for a professional and trustworthy brand and executed it perfectly. Highly recommended for any business."</p>
                                <footer class="font-bold text-right"><span class="block text-gray-800">Ahmed A</span><span class="text-sm text-gray-500">Wisetax Accountants</span><span class="block text-xs text-blue-600 font-semibold mt-1">Service: SEO-Optimized Website</span></footer>
                            </div>
                            <div class="testimonial-slide p-8 md:p-12 bg-white">
                                <div class="text-yellow-400 mb-4 text-2xl" aria-label="5 out of 5 stars"><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i></div>
                                <p class="text-lg text-gray-700 mb-6 italic">"As a bespoke business, capturing our unique craft online was a challenge. The team at Scalix not only met but exceeded our expectations with their creativity and attention to detail."</p>
                                <footer class="font-bold text-right"><span class="block text-gray-800">Richard S</span><span class="text-sm text-gray-500">RVS Be Spoke</span><span class="block text-xs text-blue-600 font-semibold mt-1">Service: SEO-Optimized Website</span></footer>
                            </div>
                        </div>
                    </div>
                    <button id="prev-slide" aria-label="Previous testimonial" class="absolute top-1/2 left-0 transform -translate-y-1/2 -translate-x-1/2 bg-white rounded-full shadow-md w-12 h-12 flex items-center justify-center text-gray-700 hover:bg-gray-200 transition-colors z-10"><i class="fa-solid fa-chevron-left"></i></button>
                    <button id="next-slide" aria-label="Next testimonial" class="absolute top-1/2 right-0 transform -translate-y-1/2 translate-x-1/2 bg-white rounded-full shadow-md w-12 h-12 flex items-center justify-center text-gray-700 hover:bg-gray-200 transition-colors z-10"><i class="fa-solid fa-chevron-right"></i></button>
                    <div id="slider-dots" class="flex justify-center space-x-2 mt-4"></div>
                </div>
            </div>
        </section>

        <section id="contact" class="py-20 bg-white">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl md:text-5xl font-bold text-center mb-12" data-aos="fade-up">Get In Touch</h2>
                <div class="max-w-2xl mx-auto">
                    <form id="contact-form" class="bg-white p-8 rounded-xl shadow-lg space-y-6" data-aos="fade-up" data-aos-delay="100">
                         <div id="form-result" class="text-center font-medium"></div>
                        <div><label for="name" class="block text-gray-700 font-semibold mb-2">Name</label><input type="text" id="name" name="name" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow" required></div>
                        <div><label for="email" class="block text-gray-700 font-semibold mb-2">Email Address</label><input type="email" id="email" name="email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow" required></div>
                        <div><label for="message" class="block text-gray-700 font-semibold mb-2">Your Message</label><textarea id="message" name="message" rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow" required></textarea></div>
                        <button type="submit" class="w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-full hover:bg-blue-700 transition-colors transform hover:scale-105">Send Message</button>
                    </form>
                </div>
            </div>
        </section>

        <section id="cta" class="py-20 bg-gradient-to-r from-purple-600 to-indigo-700 text-white">
            <div class="container mx-auto px-4 text-center">
                <h2 class="text-4xl font-bold mb-4" data-aos="fade-up">Have a project in mind?</h2>
                <p class="text-lg mb-8 max-w-2xl mx-auto" data-aos="fade-up" data-aos-delay="100">Let's turn your idea into a digital reality. We're here to help you achieve your goals.</p>
                <div class="space-x-4" data-aos="fade-up" data-aos-delay="200">
                    <button class="quote-modal-trigger inline-block bg-white text-blue-600 px-8 py-3 rounded-full font-bold text-lg shadow-lg hover:bg-gray-200 transform hover:scale-105 transition-all">Get a Free Quote</button>
                    <a href="#testimonials" class="inline-block bg-transparent border-2 border-white text-white px-8 py-3 rounded-full font-bold text-lg hover:bg-white hover:text-blue-600 transform hover:scale-105 transition-all">See Our Work</a>
                </div>
            </div>
        </section>
    </main>
    
    <footer class="bg-gray-800 text-white pt-16 pb-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 text-center md:text-left">
                <div>
                    <a href="index.html" class="inline-block mb-4">
                         <div class="flex flex-col items-center md:items-start"><span class="text-3xl font-extrabold text-white leading-none">Scalix</span><span class="text-xs font-semibold text-gray-400 tracking-widest uppercase">Studios</span></div>
                    </a>
                    <p class="text-gray-400 text-sm">A creative agency dedicated to building impactful digital experiences that drive growth and inspire audiences.</p>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="#hero" class="text-gray-400 hover:text-white transition-colors">Home</a></li>
                        <li><a href="#services" class="text-gray-400 hover:text-white transition-colors">Services</a></li>
                        <li><a href="#testimonials" class="text-gray-400 hover:text-white transition-colors">Work</a></li>
                        <li><a href="#contact" class="text-gray-400 hover:text-white transition-colors">Contact</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-4">Contact Us</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li class="flex items-center justify-center md:justify-start"><i class="fa-solid fa-map-marker-alt mr-2"></i>Barry Avenue, Windsor, SL4 5JA</li>
                        <li class="flex items-center justify-center md:justify-start"><i class="fa-solid fa-envelope mr-2"></i><a href="mailto:info@scalixstudios.co.uk" class="hover:text-white transition-colors">info@scalixstudios.co.uk</a></li>
                        <li class="flex items-center justify-center md:justify-start"><i class="fa-solid fa-phone mr-2"></i><a href="tel:07568171184" class="hover:text-white transition-colors">07568171184</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-4">Follow Us</h4>
                    <div class="flex justify-center md:justify-start space-x-4">
                        <a href="https://www.instagram.com/scalixstudios/" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white hover:scale-125 transform transition-all duration-300 p-2" aria-label="Instagram"><i class="fab fa-instagram text-2xl"></i></a>
                        <a href="https://www.facebook.com/scalixstudios" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white hover:scale-125 transform transition-all duration-300 p-2" aria-label="Facebook"><i class="fab fa-facebook-f text-2xl"></i></a>
                    </div>
                </div>
            </div>
            <div class="mt-12 pt-8 border-t border-gray-700 text-center text-gray-500 text-sm">
                <p>&copy; 2025 Scalix Studios. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <button id="back-to-top" class="fixed bottom-6 right-6 bg-blue-600 text-white p-4 rounded-full shadow-lg transition-transform duration-300 transform scale-0 z-40" aria-label="Back to top"><i class="fa-solid fa-arrow-up"></i></button>
    
    <div id="seo-modal" class="fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center z-[70] hidden p-4"><div class="bg-white rounded-xl p-8 max-w-2xl w-full shadow-lg relative"><button onclick="closeModal('seo-modal')" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl" aria-label="Close SEO details"><i class="fa-solid fa-xmark"></i></button><h3 class="text-3xl font-bold mb-4 text-blue-600">Search Engine Optimization</h3><p class="text-gray-700">We dissect search trends and competitor strategies to place you at the top of the results. Our service includes technical SEO, keyword research, content strategy, and link building for maximum visibility.</p></div></div>
    <div id="social-media-modal" class="fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center z-[70] hidden p-4"><div class="bg-white rounded-xl p-8 max-w-2xl w-full shadow-lg relative"><button onclick="closeModal('social-media-modal')" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl" aria-label="Close Social Media details"><i class="fa-solid fa-xmark"></i></button><h3 class="text-3xl font-bold mb-4 text-blue-600">Social Media Marketing</h3><p class="text-gray-700">Our team creates engaging content, manages your social channels, and runs targeted ad campaigns to build a loyal community around your brand and drive conversions.</p></div></div>
    <div id="branding-modal" class="fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center z-[70] hidden p-4"><div class="bg-white rounded-xl p-8 max-w-2xl w-full shadow-lg relative"><button onclick="closeModal('branding-modal')" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl" aria-label="Close Branding details"><i class="fa-solid fa-xmark"></i></button><h3 class="text-3xl font-bold mb-4 text-blue-600">Creative Branding</h3><p class="text-gray-700">From logo design to complete brand guidelines, we help you craft a unique and memorable identity that resonates with your target audience and sets you apart from the competition.</p></div></div>
    <div id="quote-modal" class="fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center z-[70] hidden p-4"><div id="quote-modal-content" class="bg-white rounded-xl p-8 max-w-xl w-full shadow-lg relative transform scale-95 opacity-0"><button id="quote-modal-close" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl" aria-label="Close quote form"><i class="fa-solid fa-xmark"></i></button><h3 class="text-3xl font-bold mb-2 text-indigo-700">Get a Free Quote</h3><p class="text-gray-600 mb-6">Let's build something amazing together. Fill out the form below to start the conversation.</p><form id="quote-form"><div id="quote-form-result" class="text-center font-medium mb-4"></div><div class="space-y-4"><div><label for="quote-name" class="block text-gray-700 font-semibold mb-1">Full Name</label><input type="text" id="quote-name" name="name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow" required></div><div><label for="quote-email" class="block text-gray-700 font-semibold mb-1">Email Address</label><input type="email" id="quote-email" name="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow" required></div><div><label for="quote-service" class="block text-gray-700 font-semibold mb-1">Service of Interest</label><select id="quote-service" name="service" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow" required><option value="" disabled selected>Select a service...</option><option value="SEO">Search Engine Optimization</option><option value="Social Media">Social Media Marketing</option><option value="Web Development">Web Development & Design</option><option value="Branding">Branding & Creative</option></select></div><div><label for="quote-message" class="block text-gray-700 font-semibold mb-1">Project Details</label><textarea id="quote-message" name="message" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow" placeholder="Tell us a little about your project..."></textarea></div></div><button type="submit" class="mt-6 w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-full hover:bg-blue-700 transition-colors transform hover:scale-105">Submit Request</button></form></div></div>

    <button id="chatbot-toggle" class="fixed bottom-24 right-6 z-50 bg-blue-600 text-white p-4 rounded-full shadow-lg transition-transform hover:scale-110 focus:outline-none focus:ring-4 focus:ring-blue-500/50" aria-label="Open chatbot"><i class="fa-solid fa-comments text-2xl"></i></button>
    <div id="chatbot-window" class="chat-window fixed bottom-[10.5rem] right-6 w-80 h-96 flex flex-col bg-white rounded-xl shadow-2xl z-50"></div>

    <!-- =================================================================
    SCRIPTS
    ================================================================== -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    <script type="importmap">
        { "imports": { "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js" } }
    </script>
    <script type="module">
        import * as THREE from 'three';

        document.addEventListener('DOMContentLoaded', () => {
            
            // --- CONSTANTS ---
            const WEB3FORMS_ACCESS_KEY = 'bc6fb5fc-82e9-4564-91f9-960547acb045';

            // --- INITIALIZATION ---
            AOS.init({ duration: 800, offset: 120, easing: 'ease-in-out', once: true });
            initPreloader();
            initCookieBanner();
            initBackToTopButton();
            initModals();
            initChatbot();
            initTestimonialSlider();
            initQuoteModal();
            initContactForm();
            initHeroAnimations();
            init3DHeroBackground();
            
            // --- CORE FUNCTIONS ---

            function initPreloader() {
                window.addEventListener('load', () => {
                    const preloader = document.getElementById('preloader');
                    gsap.to(preloader, { opacity: 0, duration: 0.5, onComplete: () => preloader.style.display = 'none' });
                });
            }

            function initHeroAnimations() {
                gsap.from("#main-headline", { duration: 1.5, y: 50, opacity: 0, ease: "power3.out", delay: 0.5 });
                gsap.from("#sub-headline", { duration: 1.5, y: 50, opacity: 0, ease: "power3.out", delay: 0.8 });
            }

            function initBackToTopButton() {
                const btn = document.getElementById('back-to-top');
                window.addEventListener('scroll', () => {
                    gsap.to(btn, { scale: window.scrollY > 300 ? 1 : 0, duration: 0.3 });
                });
                btn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
            }

            function initCookieBanner() {
                const banner = document.getElementById('cookie-banner');
                const acceptBtn = document.getElementById('accept-cookies');
                const declineBtn = document.getElementById('decline-cookies');

                if (!localStorage.getItem('cookieConsent')) {
                    setTimeout(() => banner.classList.remove('translate-y-full'), 1500);
                }

                const hideBanner = () => {
                    banner.classList.add('translate-y-full');
                };

                acceptBtn.addEventListener('click', () => {
                    localStorage.setItem('cookieConsent', 'accepted');
                    hideBanner();
                });

                declineBtn.addEventListener('click', () => {
                    localStorage.setItem('cookieConsent', 'declined');
                    hideBanner();
                });
            }

            function initModals() {
                window.openModal = (id) => {
                    const modal = document.getElementById(id);
                    if (!modal) return;
                    modal.classList.remove('hidden');
                    gsap.from(modal.firstElementChild, { scale: 0.9, opacity: 0, duration: 0.3 });
                    document.body.style.overflow = 'hidden';
                };

                window.closeModal = (id) => {
                    const modal = document.getElementById(id);
                    if (!modal) return;
                    gsap.to(modal.firstElementChild, { 
                        scale: 0.9, 
                        opacity: 0, 
                        duration: 0.3, 
                        onComplete: () => {
                            modal.classList.add('hidden');
                            document.body.style.overflow = '';
                        }
                    });
                };
            }
            
            function initQuoteModal() {
                const modal = document.getElementById('quote-modal');
                const modalContent = document.getElementById('quote-modal-content');
                const openButtons = document.querySelectorAll('.quote-modal-trigger');
                const closeButton = document.getElementById('quote-modal-close');
                const form = document.getElementById('quote-form');
                const resultDiv = document.getElementById('quote-form-result');

                const openModal = () => {
                    modal.classList.remove('hidden');
                    gsap.to(modalContent, { scale: 1, opacity: 1, duration: 0.3, ease: 'power3.out' });
                    document.body.style.overflow = 'hidden';
                };

                const closeModal = () => {
                    gsap.to(modalContent, { 
                        scale: 0.95, 
                        opacity: 0, 
                        duration: 0.3, 
                        ease: 'power3.in', 
                        onComplete: () => {
                            modal.classList.add('hidden');
                            document.body.style.overflow = '';
                        }
                    });
                };

                openButtons.forEach(btn => btn.addEventListener('click', openModal));
                closeButton.addEventListener('click', closeModal);
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) closeModal();
                });

                form.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    resultDiv.textContent = 'Sending...';
                    resultDiv.className = 'text-gray-700 text-center font-medium mb-4';

                    const formData = new FormData(form);
                    formData.append("access_key", WEB3FORMS_ACCESS_KEY);
                    const object = Object.fromEntries(formData);
                    const json = JSON.stringify(object);

                    try {
                        const response = await fetch('https://api.web3forms.com/submit', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
                            body: json
                        });
                        const result = await response.json();
                        if (result.success) {
                            resultDiv.textContent = 'Message sent! We will be in touch soon.';
                            resultDiv.className = 'text-green-500 text-center font-medium mb-4';
                            form.reset();
                            setTimeout(closeModal, 3000);
                        } else {
                            throw new Error(result.message || 'Something went wrong.');
                        }
                    } catch (error) {
                        resultDiv.textContent = error.message;
                        resultDiv.className = 'text-red-500 text-center font-medium mb-4';
                    }
                });
            }

            function initContactForm() {
                const form = document.getElementById('contact-form');
                const resultDiv = document.getElementById('form-result');

                form.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    resultDiv.textContent = 'Sending...';
                    resultDiv.className = "text-gray-700 text-center font-medium";

                    const formData = new FormData(form);
                    formData.append("access_key", WEB3FORMS_ACCESS_KEY);
                    const object = Object.fromEntries(formData);
                    const json = JSON.stringify(object);

                    try {
                        const response = await fetch('https://api.web3forms.com/submit', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
                            body: json
                        });

                        const result = await response.json();
                        if (result.success) {
                            resultDiv.textContent = 'Message sent successfully!';
                            resultDiv.className = 'text-green-500 text-center font-medium';
                            form.reset();
                        } else {
                            throw new Error(result.message || 'Something went wrong.');
                        }
                    } catch (error) {
                        console.error('Fetch error:', error);
                        resultDiv.textContent = 'An error occurred. Please try again.';
                        resultDiv.className = 'text-red-500 text-center font-medium';
                    }
                    
                    setTimeout(() => {
                        resultDiv.textContent = '';
                    }, 6000);
                });
            }

            function initTestimonialSlider() {
                const track = document.querySelector('.testimonial-slider-track');
                if (!track) return;

                const slides = Array.from(track.children);
                const nextButton = document.getElementById('next-slide');
                const prevButton = document.getElementById('prev-slide');
                const dotsNav = document.getElementById('slider-dots');
                
                if (slides.length <= 1) return;

                const firstClone = slides[0].cloneNode(true);
                const lastClone = slides[slides.length - 1].cloneNode(true);
                track.appendChild(firstClone);
                track.insertBefore(lastClone, slides[0]);

                let currentIndex = 1;
                let isTransitioning = false;
                let slideInterval;
                
                track.style.transform = `translateX(-${currentIndex * 100}%)`;

                const dots = [];
                slides.forEach((_, index) => {
                    const dot = document.createElement('button');
                    dot.setAttribute('aria-label', `Go to slide ${index + 1}`);
                    dot.classList.add('w-3', 'h-3', 'rounded-full', 'bg-gray-300', 'hover:bg-gray-400', 'transition-colors');
                    dotsNav.appendChild(dot);
                    dots.push(dot);
                });

                const updateDots = () => {
                     const realIndex = (currentIndex - 1 + slides.length) % slides.length;
                     dots.forEach((dot, idx) => {
                        dot.classList.toggle('bg-blue-600', idx === realIndex);
                        dot.classList.toggle('bg-gray-300', idx !== realIndex);
                    });
                };

                const moveToSlide = (index) => {
                    if (isTransitioning) return;
                    isTransitioning = true;
                    
                    track.style.transition = 'transform 0.5s ease-in-out';
                    currentIndex = index;
                    track.style.transform = `translateX(-${currentIndex * 100}%)`;
                    updateDots();
                };

                track.addEventListener('transitionend', () => {
                    if (currentIndex === 0) {
                        track.style.transition = 'none';
                        currentIndex = slides.length;
                        track.style.transform = `translateX(-${currentIndex * 100}%)`;
                    }
                    if (currentIndex > slides.length) {
                        track.style.transition = 'none';
                        currentIndex = 1;
                        track.style.transform = `translateX(-100%)`;
                    }
                    isTransitioning = false;
                });

                const next = () => moveToSlide(currentIndex + 1);
                const prev = () => moveToSlide(currentIndex - 1);
                
                const startAutoplay = () => {
                    clearInterval(slideInterval);
                    slideInterval = setInterval(next, 7000);
                };

                nextButton.addEventListener('click', () => { next(); startAutoplay(); });
                prevButton.addEventListener('click', () => { prev(); startAutoplay(); });
                
                dots.forEach((dot, index) => {
                    dot.addEventListener('click', () => {
                        moveToSlide(index + 1);
                        startAutoplay();
                    });
                });

                updateDots();
                startAutoplay();
            }

            async function callGeminiAPI(userQuery, systemPrompt) {
                // The frontend now calls our OWN server endpoint, not Google's.
                const apiUrl = '/api/gemini-proxy'; 
                
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ userQuery, systemPrompt }) // Send the prompts to our server
                    });

                    if (!response.ok) {
                        const errorData = await response.json();
                        throw new Error(errorData.error || `HTTP error! status: ${response.status}`);
                    }
                    
                    const result = await response.json();
                    return result.text;

                } catch (error) {
                    console.error('API call via proxy failed:', error);
                    return `Sorry, I'm having trouble connecting to the AI. Please try again later. Error: ${error.message}`;
                }
            }

            function initChatbot() {
                const toggleBtn = document.getElementById('chatbot-toggle');
                const windowDiv = document.getElementById('chatbot-window');
                
                windowDiv.innerHTML = `
                    <div class="chat-header bg-gray-700 text-white p-3 flex justify-between items-center rounded-t-xl">
                        <h3 class="font-bold">Scalix Assistant</h3>
                        <button id="chatbot-close" class="hover:text-gray-300"><i class="fa-solid fa-xmark"></i></button>
                    </div>
                    <div id="chat-body" class="flex-grow p-3 overflow-y-auto bg-gray-100 space-y-2">
                        <div class="message-bubble bot-message">Hello! How can I help you today?</div>
                        <div id="suggested-prompts" class="flex flex-wrap gap-2 pt-2">
                            <button class="prompt-btn text-xs bg-gray-200 px-3 py-1 rounded-full hover:bg-gray-300">What services do you offer?</button>
                            <button class="prompt-btn text-xs bg-gray-200 px-3 py-1 rounded-full hover:bg-gray-300">Tell me about your process.</button>
                        </div>
                    </div>
                    <form id="chatbot-form" class="flex items-center p-3 border-t border-gray-200">
                        <input type="text" id="chatbot-input" placeholder="Ask a question..." class="flex-grow px-3 py-2 rounded-full border focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <button type="submit" class="ml-2 text-blue-500 hover:text-blue-700"><i class="fa-solid fa-paper-plane text-xl"></i></button>
                    </form>`;
                
                const closeBtn = document.getElementById('chatbot-close');
                const chatBody = document.getElementById('chat-body');
                const form = document.getElementById('chatbot-form');
                const input = document.getElementById('chatbot-input');

                const addMessage = (text, sender) => {
                    const messageDiv = document.createElement('div');
                    messageDiv.classList.add('message-bubble', sender === 'user' ? 'user-message' : 'bot-message');
                    messageDiv.textContent = text;
                    chatBody.appendChild(messageDiv);
                    chatBody.scrollTop = chatBody.scrollHeight;
                };

                const showTypingIndicator = () => {
                    const typingDiv = document.createElement('div');
                    typingDiv.id = 'typing-indicator';
                    typingDiv.classList.add('message-bubble', 'bot-message');
                    typingDiv.innerHTML = `<div class="typing-indicator flex space-x-1 items-center"><span class="w-2 h-2 bg-gray-500 rounded-full"></span><span class="w-2 h-2 bg-gray-500 rounded-full"></span><span class="w-2 h-2 bg-gray-500 rounded-full"></span></div>`;
                    chatBody.appendChild(typingDiv);
                    chatBody.scrollTop = chatBody.scrollHeight;
                };

                const removeTypingIndicator = () => {
                    document.getElementById('typing-indicator')?.remove();
                };

                const handleUserMessage = async (message) => {
                    if (!message) return;
                    addMessage(message, 'user');
                    input.value = '';
                    document.getElementById('suggested-prompts')?.remove();
                    showTypingIndicator();

                    const systemPrompt = "You are a friendly and helpful AI marketing assistant for Scalix Studios, a digital marketing agency. Your role is to answer questions about the agency's services (SEO, Social Media, Branding), process (Discovery, Design, Development, Growth), and general marketing topics. Keep your answers concise and engaging.";
                    const responseText = await callGeminiAPI(message, systemPrompt);

                    removeTypingIndicator();
                    addMessage(responseText, 'bot');
                };

                toggleBtn.addEventListener('click', () => windowDiv.classList.toggle('open'));
                closeBtn.addEventListener('click', () => windowDiv.classList.remove('open'));
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    handleUserMessage(input.value.trim());
                });
                document.querySelectorAll('.prompt-btn').forEach(btn => {
                    btn.addEventListener('click', () => handleUserMessage(btn.textContent));
                });
            }

            function init3DHeroBackground() {
                let scene, camera, renderer, particles;
                const canvas = document.getElementById('hero-canvas');
                scene = new THREE.Scene();
                camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                camera.position.z = 5;
                renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true });
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

                const particleCount = 5000;
                const positions = new Float32Array(particleCount * 3);
                for (let i = 0; i < particleCount * 3; i++) {
                    positions[i] = (Math.random() - 0.5) * 10;
                }
                const particlesGeometry = new THREE.BufferGeometry();
                particlesGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                const particlesMaterial = new THREE.PointsMaterial({ size: 0.015, color: 0xffffff, transparent: true, opacity: 0.7 });
                particles = new THREE.Points(particlesGeometry, particlesMaterial);
                scene.add(particles);

                let mouseX = 0, mouseY = 0;
                document.addEventListener('mousemove', (event) => {
                    mouseX = event.clientX / window.innerWidth - 0.5;
                    mouseY = event.clientY / window.innerHeight - 0.5;
                });
                
                const clock = new THREE.Clock();
                const animate = () => {
                    const elapsedTime = clock.getElapsedTime();
                    particles.rotation.y = elapsedTime * 0.1 + mouseX * 0.2;
                    particles.rotation.x = -mouseY * 0.2;
                    renderer.render(scene, camera);
                    window.requestAnimationFrame(animate);
                };
                animate();

                window.addEventListener('resize', () => {
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                });
            }
        });
    </script>
</body>
</html>
